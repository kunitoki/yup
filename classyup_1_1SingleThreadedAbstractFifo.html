<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>YUP: yup::SingleThreadedAbstractFifo Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">YUP
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<div id="main-nav">
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect" class="search-icon" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"><span class="search-icon-dropdown"></span></span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><div id="MSearchCloseImg" class="close-icon"></div></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- main-nav -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a href="namespaceyup.html">yup</a></li><li class="navelem"><a href="classyup_1_1SingleThreadedAbstractFifo.html">SingleThreadedAbstractFifo</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classyup_1_1SingleThreadedAbstractFifo-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">yup::SingleThreadedAbstractFifo Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Encapsulates the logic for a single-threaded FIFO.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae6ed449e4883ff55d8c49a27c70dfd12" id="r_ae6ed449e4883ff55d8c49a27c70dfd12"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae6ed449e4883ff55d8c49a27c70dfd12">SingleThreadedAbstractFifo</a> ()=default</td></tr>
<tr class="memdesc:ae6ed449e4883ff55d8c49a27c70dfd12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a <a class="el" href="classyup_1_1SingleThreadedAbstractFifo.html" title="Encapsulates the logic for a single-threaded FIFO.">SingleThreadedAbstractFifo</a> with no size.  <br /></td></tr>
<tr class="memitem:abea1bfb7185109ffba6a18aab054e048" id="r_abea1bfb7185109ffba6a18aab054e048"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abea1bfb7185109ffba6a18aab054e048">SingleThreadedAbstractFifo</a> (int sizeIn)</td></tr>
<tr class="memdesc:abea1bfb7185109ffba6a18aab054e048"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a <a class="el" href="classyup_1_1SingleThreadedAbstractFifo.html" title="Encapsulates the logic for a single-threaded FIFO.">SingleThreadedAbstractFifo</a> that can manage a buffer of the specified size.  <br /></td></tr>
<tr class="memitem:a97cc640a1a841cbf44b3451e75494e45" id="r_a97cc640a1a841cbf44b3451e75494e45"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a97cc640a1a841cbf44b3451e75494e45">getRemainingSpace</a> () const</td></tr>
<tr class="memdesc:a97cc640a1a841cbf44b3451e75494e45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of unused elements present in the buffer.  <br /></td></tr>
<tr class="memitem:a81689225697755a69e9e0d68d544db0c" id="r_a81689225697755a69e9e0d68d544db0c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a81689225697755a69e9e0d68d544db0c">getNumReadable</a> () const</td></tr>
<tr class="memdesc:a81689225697755a69e9e0d68d544db0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of pending elements present in the buffer.  <br /></td></tr>
<tr class="memitem:a61d4baa298d42457535b589e07ceecca" id="r_a61d4baa298d42457535b589e07ceecca"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a61d4baa298d42457535b589e07ceecca">getSize</a> () const</td></tr>
<tr class="memdesc:a61d4baa298d42457535b589e07ceecca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the size of the managed buffer.  <br /></td></tr>
<tr class="memitem:a04afb06953cb6ef24a1170adc354f0d7" id="r_a04afb06953cb6ef24a1170adc354f0d7"><td class="memItemLeft" align="right" valign="top">std::array&lt; <a class="el" href="classyup_1_1Range.html">Range</a>&lt; int &gt;, 2 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a04afb06953cb6ef24a1170adc354f0d7">write</a> (int num)</td></tr>
<tr class="memdesc:a04afb06953cb6ef24a1170adc354f0d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns two blocks in the buffer where new items may be written.  <br /></td></tr>
<tr class="memitem:acd33513406f8759f3d6fba9a35c8cb70" id="r_acd33513406f8759f3d6fba9a35c8cb70"><td class="memItemLeft" align="right" valign="top">std::array&lt; <a class="el" href="classyup_1_1Range.html">Range</a>&lt; int &gt;, 2 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acd33513406f8759f3d6fba9a35c8cb70">read</a> (int num)</td></tr>
<tr class="memdesc:acd33513406f8759f3d6fba9a35c8cb70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns two blocks in the buffer from which new items may be read.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Encapsulates the logic for a single-threaded FIFO. </p>
<p>This might be useful for building buffers which can be written and read in blocks of different sizes. For example, in an audio effect we might wish to run some processing on fixed-size blocks of audio input, but the host may provide input blocks of varying sizes. In this situation, we might want to store the previous input in a buffer, and extract a fixed-size block whenever there are enough samples available. The <a class="el" href="classyup_1_1SingleThreadedAbstractFifo.html" title="Encapsulates the logic for a single-threaded FIFO.">SingleThreadedAbstractFifo</a> implements logic suitable for this use-case.</p>
<p>This class is quite similar to <a class="el" href="classyup_1_1AbstractFifo.html" title="Encapsulates the logic required to implement a lock-free FIFO.">AbstractFifo</a>, in that it only keeps track of the current read/write locations. The user is responsible for providing the actual buffer that will be read/written.</p>
<p>The intended usage of this class is as follows:</p><ul>
<li>Create some backing storage in a vector, <a class="el" href="classyup_1_1AudioBuffer.html" title="A multi-channel buffer containing floating point audio samples.">AudioBuffer</a> etc.</li>
<li>Construct a <a class="el" href="classyup_1_1SingleThreadedAbstractFifo.html" title="Encapsulates the logic for a single-threaded FIFO.">SingleThreadedAbstractFifo</a> to manage the buffer, passing the number of items in the buffer.</li>
<li>Each time new input is ready, call <a class="el" href="#a04afb06953cb6ef24a1170adc354f0d7" title="Returns two blocks in the buffer where new items may be written.">write()</a>, passing the number of items you wish to write into the buffer. This function returns a pair of ranges describing which indices in the backing storage should be written.</li>
<li>Call <a class="el" href="#a81689225697755a69e9e0d68d544db0c" title="Returns the number of pending elements present in the buffer.">getNumReadable()</a> to find out how many items are ready to read from the buffer.</li>
<li>If there are enough items ready to read, call <a class="el" href="#acd33513406f8759f3d6fba9a35c8cb70" title="Returns two blocks in the buffer from which new items may be read.">read()</a>, passing the number of items you require. This function returns a pair of ranges describing which indices in the backing storage may be read.</li>
</ul>
<p>Unlike <a class="el" href="classyup_1_1AbstractFifo.html" title="Encapsulates the logic required to implement a lock-free FIFO.">AbstractFifo</a>, the <a class="el" href="classyup_1_1SingleThreadedAbstractFifo.html" title="Encapsulates the logic for a single-threaded FIFO.">SingleThreadedAbstractFifo</a> is intended for use from a single thread. It is not safe to call any non-const member function of <a class="el" href="classyup_1_1SingleThreadedAbstractFifo.html" title="Encapsulates the logic for a single-threaded FIFO.">SingleThreadedAbstractFifo</a> concurrently with any other member function.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classyup_1_1AbstractFifo.html" title="Encapsulates the logic required to implement a lock-free FIFO.">AbstractFifo</a> </dd></dl>
</div><a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae6ed449e4883ff55d8c49a27c70dfd12" name="ae6ed449e4883ff55d8c49a27c70dfd12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6ed449e4883ff55d8c49a27c70dfd12">&#9670;&#160;</a></span>SingleThreadedAbstractFifo() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">yup::SingleThreadedAbstractFifo::SingleThreadedAbstractFifo </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel default">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a <a class="el" href="classyup_1_1SingleThreadedAbstractFifo.html" title="Encapsulates the logic for a single-threaded FIFO.">SingleThreadedAbstractFifo</a> with no size. </p>

</div>
</div>
<a id="abea1bfb7185109ffba6a18aab054e048" name="abea1bfb7185109ffba6a18aab054e048"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abea1bfb7185109ffba6a18aab054e048">&#9670;&#160;</a></span>SingleThreadedAbstractFifo() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">yup::SingleThreadedAbstractFifo::SingleThreadedAbstractFifo </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sizeIn</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel explicit">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a <a class="el" href="classyup_1_1SingleThreadedAbstractFifo.html" title="Encapsulates the logic for a single-threaded FIFO.">SingleThreadedAbstractFifo</a> that can manage a buffer of the specified size. </p>

<p class="reference">References <a class="el" href="namespaceyup.html#ac2ae2c6d04bb5794b7c2ee35b8308087">yup::isPowerOfTwo()</a>.</p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a97cc640a1a841cbf44b3451e75494e45" name="a97cc640a1a841cbf44b3451e75494e45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97cc640a1a841cbf44b3451e75494e45">&#9670;&#160;</a></span>getRemainingSpace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int yup::SingleThreadedAbstractFifo::getRemainingSpace </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of unused elements present in the buffer. </p>

<p class="reference">Referenced by <a class="el" href="#a04afb06953cb6ef24a1170adc354f0d7">write()</a>.</p>

</div>
</div>
<a id="a81689225697755a69e9e0d68d544db0c" name="a81689225697755a69e9e0d68d544db0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81689225697755a69e9e0d68d544db0c">&#9670;&#160;</a></span>getNumReadable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int yup::SingleThreadedAbstractFifo::getNumReadable </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of pending elements present in the buffer. </p>

</div>
</div>
<a id="a61d4baa298d42457535b589e07ceecca" name="a61d4baa298d42457535b589e07ceecca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61d4baa298d42457535b589e07ceecca">&#9670;&#160;</a></span>getSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int yup::SingleThreadedAbstractFifo::getSize </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the size of the managed buffer. </p>

</div>
</div>
<a id="a04afb06953cb6ef24a1170adc354f0d7" name="a04afb06953cb6ef24a1170adc354f0d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04afb06953cb6ef24a1170adc354f0d7">&#9670;&#160;</a></span>write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::array&lt; <a class="el" href="classyup_1_1Range.html">Range</a>&lt; int &gt;, 2 &gt; yup::SingleThreadedAbstractFifo::write </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns two blocks in the buffer where new items may be written. </p>
<p>Note that if the buffer is running low on free space, the sum of the lengths of the returned ranges may be less than num! </p>

<p class="reference">References <a class="el" href="#a97cc640a1a841cbf44b3451e75494e45">getRemainingSpace()</a>, and <a class="el" href="namespaceyup.html#a742ec791d91ff5c86efb0a4735d598f4">yup::jmin()</a>.</p>

</div>
</div>
<a id="acd33513406f8759f3d6fba9a35c8cb70" name="acd33513406f8759f3d6fba9a35c8cb70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd33513406f8759f3d6fba9a35c8cb70">&#9670;&#160;</a></span>read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::array&lt; <a class="el" href="classyup_1_1Range.html">Range</a>&lt; int &gt;, 2 &gt; yup::SingleThreadedAbstractFifo::read </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns two blocks in the buffer from which new items may be read. </p>
<p>Note that if the buffer doesn't have the requested number of items available, the sum of the lengths of the returned ranges may be less than num! </p>

<p class="reference">References <a class="el" href="namespaceyup.html#a742ec791d91ff5c86efb0a4735d598f4">yup::jmin()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
